llm:
  provider: ${HYALINE_LLM_PROVIDER}
  model: ${HYALINE_LLM_MODEL}
  key: ${HYALINE_LLM_TOKEN}


github:
  token: ${HYALINE_GITHUB_TOKEN}


extract:
  source:
    id: hyaline
    description: Documentation for Hyaline
  crawler:
    type: git
    options:
      repo: https://github.com/appgardenstudios/hyaline.git
      branch: main
      clone: true
      auth:
        type: http
        options:
          username: git
          password: ${HYALINE_GITHUB_TOKEN}
    include:
      - "www/content/documentation/**/*.md"
      - "www/content/about.md"
      - "www/content/security.md"
      - "cli/README.md"
  extractors:
    - type: md
      include:
        - "**/*.md"
  metadata:
    # cli
    - document: "cli/**/*.md"
      tags:
        - key: component
          value: cli

    # cli - README.md
    - document: "cli/README.md"
      purpose: "Provide a high-level introduction of the Hyaline CLI and provide guidance for developing, testing, running, and releasing Hyaline."
    - document: "cli/README.md"
      section: "Developing/Dependencies"
      purpose: "Document any additional dependencies required to develop, test, or release Hyaline."
    - document: "cli/README.md"
      section: "Developing/Running Locally"
      purpose: "Document how to run Hyaline locally."
    - document: "cli/README.md"
      section: "Developing/Debugging"
      purpose: "Document how to debug Hyaline locally."
    - document: "cli/README.md"
      section: "Developing/Testing"
      purpose: "Document how to test Hyaline locally."
    - document: "cli/README.md"
      section: "Developing/Releasing"
      purpose: "Document how to release Hyaline."

    # www
    - document: "www/content/documentation/**/*"
      tags:
        - key: component
          value: www

    # www - root
    - document: "www/content/about.md"
      purpose: "Provide an overview of Hyaline and its purpose"
    - document: "www/content/about.md"
      section: "About Hyaline/What is Hyaline?"
      purpose: "Explain what Hyaline is and its main features"
    
    - document: "www/content/security.md"
      purpose: "Provide an overview of the security practices and policies of Hyaline"
    - document: "www/content/security.md"
      section: "Security/Data Privacy"
      purpose: "Explain how Hyaline handles data privacy"
    - document: "www/content/security.md"
      section: "Security/Local Operation"
      purpose: "Explain the operations that Hyaline performs locally"
    - document: "www/content/security.md"
      section: "Security/Network Communications"
      purpose: "Document what types of network communications Hyaline performs"
    - document: "www/content/security.md"
      section: "Security/File System Access"
      purpose: "Document Hyaline's file system access requirements"
    - document: "www/content/security.md"
      section: "Security/Authentication & Secrets"
      purpose: "Explain the types of authentication Hyaline uses and how secrets should be managed"
    - document: "www/content/security.md"
      section: "Security/MCP Server"
      purpose: "Document the security aspects of the MCP server"
    - document: "www/content/security.md"
      section: "Security/Reporting Security Issues"
      purpose: "Provide contact information for reporting security vulnerabilities"

    # www - documentation - root
    - document: "www/content/documentation/overview.md"
      purpose: "Give an overview of Hyaline and the documentation"
    - document: "www/content/documentation/getting-started.md"
      purpose: "Document how to get started with Hyaline"
    - document: "www/content/documentation/roadmap.md"
      purpose: "Explain at a high level what is coming for Hyaline"

    # www - documentation - how to
    - document: "www/content/documentation/how-to/install-cli.md"
      purpose: "Document how to install the Hyaline CLI"
    - document: "www/content/documentation/how-to/build-cli.md"
      purpose: "Document how to build the Hyaline CLI"
    - document: "www/content/documentation/how-to/run-cli.md"
      purpose: "Document how to run the Hyaline CLI"
    - document: "www/content/documentation/how-to/run-mcp.md"
      purpose: "Document how to run the Hyaline MCP Server"
    - document: "www/content/documentation/how-to/check-pr.md"
      purpose: "How to check a PR using the Hyaline CLI"
    - document: "www/content/documentation/how-to/export-documentation.md"
      purpose: "How to export documentation using the Hyaline CLI"

    # www - documentation - explanation
    - document: "www/content/documentation/explanation/hyaline.md"
      purpose: "Explain the overall data flow and architecture of Hyaline"
    - document: "www/content/documentation/explanation/extract.md"
      purpose: "Explain how Hyaline extracts documentation"
    - document: "www/content/documentation/explanation/check.md"
      purpose: "Explain how Hyaline checks for what documentation needs to be updated"
    - document: "www/content/documentation/explanation/audit.md"
      purpose: "Explain how Hyaline audits documentation against configurable rules to ensure compliance"
    - document: "www/content/documentation/explanation/merge.md"
      purpose: "Explain how Hyaline merge documentation works"
    - document: "www/content/documentation/explanation/mcp.md"
      purpose: "Explain how Hyaline's MCP server works"
    - document: "www/content/documentation/explanation/export.md"
      purpose: "Explain how Hyaline exports documentation in various formats"

    # www - documentation - reference
    - document: "www/content/documentation/reference/cli.md"
      purpose: "Detail each command/sub-command of the Hyaline CLI"
    - document: "www/content/documentation/reference/config.md"
      purpose: "Document the configuration options for Hyaline"
    - document: "www/content/documentation/reference/data-set.md"
      purpose: "Detail the schema and usage of the Hyaline data set"
    - document: "www/content/documentation/reference/data-set.md"
      section: "Tables"
      purpose: "Document all database tables and their structure"
    - document: "www/content/documentation/reference/audit-results.md"
      purpose: "Detail the JSON output format for results produced by the audit documentation command"
    - document: "www/content/documentation/reference/recommendations.md"
      purpose: "Detail the JSON output format for recommendations produced by the check diff and check pr commands"
    - document: "www/content/documentation/reference/github-actions.md"
      purpose: "Detail the functionality and usage of Hyaline within GitHub Actions"
    - document: "www/content/documentation/reference/mcp.md"
      purpose: "Detail the functionality of Hyaline's MCP server"
    - document: "www/content/documentation/reference/mcp.md"
      section: "Tools"
      purpose: "Document all the available tools the Hyaline MCP server provides"
    - document: "www/content/documentation/reference/mcp.md"
      section: "Prompts"
      purpose: "Document all the available prompts the Hyaline MCP server provides"
    - document: "www/content/documentation/reference/export.md"
      purpose: "Detail the various export output formats that Hyaline supports"
    - document: "www/content/documentation/reference/config-validation.md"
      purpose: "Detail the JSON output format for output produced by the validate config command"

# Check configuration
check:
  code:
    include:
      - "cli/**/*.go"
    exclude:
      - "**/*_test.go"
      - "cli/e2e/**/*"
      - "cli/benchmarks/**/*"
  documentation:
    include:
      - source: "hyaline"
        document: "**/*"
  options:
    detectDocumentationUpdates:
      source: hyaline
    updateIf:
      touched:
        - code:
            path: "cli/cmd/**/*"
          documentation:
            source: "hyaline"
            document: "www/content/documentation/reference/cli.md"
        - code:
            path: "cli/internal/config/**/*"
          documentation:
            source: "hyaline"
            document: "www/content/documentation/reference/config.md"
        - code:
            path: "cli/internal/sqlite/schema.sql"
          documentation:
            source: "hyaline"
            document: "www/content/documentation/reference/data-set.md"